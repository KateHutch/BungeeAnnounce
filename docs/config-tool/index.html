<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Smart tool to help people to configure Bungee Announce.">
        <meta name="author" content="Roytreo28">
        <link rel="icon" href="../assets/img/icon.png">
        <title>BungeeAnnounce configuration tool — by Roytreo28</title>
        <!-- Bootstrap core CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <!-- Custom styles for this template -->
        <link href="theme.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->
    </head>
    <body>
        <div class="container">
            <div class="modal fade" id="configModal" tabindex="-1" role="dialog" aria-labelledby="configModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="configModalLabel">Copy the following text and past it in your config.yml file after empty it.</h4>
                        </div>
                        <div class="modal-body">
                            <div id="config" onclick="selectText('config');">
                                <pre>announce-prefix: "<span id="announce-prefix-config"></span>"
title-prefix: "<span id="title-prefix-config"></span>"
subtitle-prefix: "<span id="subtitle-prefix-config"></span>"
action-prefix: "<span id="action-prefix-config"></span>"
warn-prefix: "<span id="warn-prefix-config"></span>"
enable-private-message: <span id="enable-private-message-config"></span>
command-for-private-message: "<span id="command-for-private-message-config"></span>"
private-message-send: "<span id="private-message-send-config"></span>"
private-message-received: "<span id="private-message-received-config"></span>"
private-message-player-not-online: "<span id="private-message-player-not-online-config"></span>"
private-message-sender-equals-receiver: "<span id="private-message-sender-equals-receiver-config"></span>"
enable-announcement-logs: <span id="enable-announcement-logs-config"></span>
scheduler:<span id="scheduler-section-config"></span>
player-announcer:<span id="player-announcer-section-config"></span></pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header clearfix">
                <nav>
                    <ul class="nav nav-pills pull-right">
                        <li role="presentation"><a href="https://github.com/Roytreo28/BungeeAnnounce/tree/master/docs/config-tool">View on Github</a></li>
                    </ul>
                </nav>
                <h3 class="text-muted">BungeeAnnounce <small>configuration tool</small></h3>
            </div>
            <div class="well">
                <p>Hi Guest! I've coded this web page to allow you to configure Bungee Announce easier.<br/>
                    Just follow steps below, then copy to your clipboard the raw generated text and past it in your <code>config.yml</code> file located to <code>plugins/BungeeAnnounce/</code>.
                </p>
                <br/>
                <p><span class="glyphicon glyphicon-flash"></span> To do better announcement and messages, your are able to use all these features during your configuration:</p>
                <ul>
                    <li><a href="http://minecraft.gamepedia.com/Formatting_codes" target="_blank">Color codes<small>(click)</small></a> — Allows you to make your life more colorful. (use '&' instead of '§')</li>
                    <li><a href="https://github.com/Roytreo28/BungeeAnnounce/wiki/Placeholders" target="_blank">Placeholders<small>(click)</small></a> — Allows announcements to know more about your server.</li>
                    <li><a href="https://github.com/Roytreo28/BungeeAnnounce/wiki/Executors" target="_blank">Executors<small>(click)</small></a> — Brings hover and click events to your announcements.</li>
                </ul>
            </div>
            <hr/>
            <h2>➀ Prefix settings</h2>
            <div class="form-group">
                <label for="announce-prefix"><u>Announce prefix</u> — <small>Do you want to set a default prefix for all announcements ? If yes, then, write it.</small></label>
                <input type="text" class="form-control" id="announce-prefix">
            </div>
            <div class="form-group">
                <label for="title-prefix"><u>Title prefix</u> — <small>Do you want to set a default prefix for all titles ? If yes, then, write it.</small></label>
                <input type="text" class="form-control" id="title-prefix">
            </div>
            <div class="form-group">
                <label for="subtitle-prefix"><u>Subtitle prefix</u> — <small>Do you want to set a default prefix for all subtitles ? If yes, then, write it.</small></label>
                <input type="text" class="form-control" id="subtitle-prefix">
            </div>
            <div class="form-group">
                <label for="action-prefix"><u>Action prefix</u> — <small>Do you want to set a default prefix for all action announcements ? If yes, then, write it.</small></label>
                <input type="text" class="form-control" id="action-prefix">
            </div>
            <div class="form-group">
                <label for="warn-prefix"><u>Warn prefix</u> — <small>Do you want to set a default prefix for all warn announcements ? If yes, then, write it.</small></label>
                <input type="text" class="form-control" placeholder="&f[&4&lWARN&f] &b" id="warn-prefix">
            </div>
            <hr/>
            <h2>➁ Private messaging settings</h2>
            <div id="enable-private-message" class="form-group">
                <label><u>Enable private messaging</u> — <small>Do you want to enable private messaging feature ?</small></label>   
                <label class="radio-inline"><input type="radio" name="enable-private-message" id="enable-private-message-yes" onclick="togglePrivateMessageFields(true);" checked>Yes</label>
                <label class="radio-inline"><input type="radio" name="enable-private-message" id="enable-private-message-no" onclick="togglePrivateMessageFields(false);">No</label>
            </div>
            <div id="private-messaging-settings">
                <div class="form-group">
                    <label for="command-for-private-message"><u>Private messaging command</u> — <small>If you've enabled private messaging, which command do you want to be used ?</small></label>  
                    <p>When a player wants to communicate, he will do this: /your_command [player] [message].</p>
                    <input type="text" class="form-control" placeholder="your_command" id="command-for-private-message">
                </div>
                <p>The following fields support these placeholders:</p>
                <ul>
                    <li>%RECEIVER% — User name of the receiver of the message.</li>
                    <li>%SENDER% — User name of the sender of the message.</li>
                    <li>%MESSAGE% — Message sent.</li>
                </ul>
                <div class="form-group">
                    <label for="private-message-send"><u>Private message when sending</u> — <small>If you've enabled private messaging, which format do you want the sending of a private message looks like ?</small></label>  
                    <input type="text" class="form-control" value="&3Send to &e%RECEIVER%: &d%MESSAGE%" id="private-message-send">
                </div>
                <div class="form-group">
                    <label for="private-message-received"><u>Private message when receiving</u> — <small>If you've enabled private messaging, which format do you want the receiving of a private message looks like ?</small></label>  
                    <input type="text" class="form-control" value="&3Received from &e%SENDER%: &d%MESSAGE%" id="private-message-received">
                </div>
                <div class="form-group">
                    <label for="private-message-player-not-online"><u>Private message: player not connected</u> — <small>If you've enabled private messaging, which format do you want the error when the requested player isn't online looks like ?</small></label>  
                    <input type="text" class="form-control" value="&c%PLAYER% is unreachable :(" id="private-message-player-not-online">
                </div>
                <div class="form-group">
                    <label for="private-message-sender-equals-receiver"><u>Private message: sender = receiver</u> — <small>If you've enabled private messaging, which format do you want the error when the requested player is the same as the sender of the message looks like ?</small></label>  
                    <input type="text" class="form-control" value="&7Are you schizophrenic ? :O" id="private-message-sender-equals-receiver">
                </div>
            </div>
            <hr/>
            <h2>➂ Announcement logs</h2>
            <div id="enable-announcement-logs" class="form-group">
                <label><u>Enable announcement logs</u> — <small>do you want to enable the register of all announcements sent by your staff team in a file located to <code>plugins/BungeeAnnounce/logs</code> ?</small></label>   
                <label class="radio-inline"><input type="radio" name="enable-announcement-logs" id="enable-announcement-logs-yes">Yes</label>
                <label class="radio-inline"><input type="radio" name="enable-announcement-logs" id="enable-announcement-logs-no" checked>No</label>
            </div>
            <hr/>
            <h2>➃ Scheduler section</h2>
            <p class="pull-right"><span class="glyphicon glyphicon-exclamation-sign"></span> Maximum: 80</p><hr/>
            <div id="scheduler-section-division">
            </div>
            <button type="button" class="btn btn-danger btn-sm pull-left" onclick="removeScheduledAnnouncement();">Remove</button>
            <button type="button" class="btn btn-success btn-sm pull-right" onclick="addScheduledAnnouncement(false);">Add scheduled announcement</button>
            <br/>
            <hr/>
            <h2>➄ Player Announcer section</h2>
            <p class="pull-right"><span class="glyphicon glyphicon-exclamation-sign"></span> Maximum: 80</p><hr/>
            <div id="player-announcer-section-division">
            </div>
            <button type="button" class="btn btn-danger btn-sm pull-left" onclick="removePlayerAnnouncement();">Remove</button>
            <button type="button" class="btn btn-success btn-sm pull-right" onclick="addPlayerAnnouncement(false);">Add player announcement</button>
            <br/>
            <hr/>
            <button id="generateButton" type="button" class="btn btn-primary btn-lg btn-block" onClick="generateConfig();" data-toggle="modal" data-target="#configModal">Generate configuration <b><span id="status"></span></b></button><br/>
            <footer class="footer">
                Created by <b><a href="https://github.com/Roytreo28" target="_blank">Roytreo28</a></b> with Bootstrap.
                <div class="pull-right">Follow me on <b><a href="https://twitter.com/asynchronousVM" target="_blank">Twitter</a></b></div>
            </footer>
        </div>
        <!-- /container -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script>
            var schedulerTemplate = "<div class='well' id='announcement-xxx'><span class='badge pull-right'>yyy</span><div class='form-group'><label for='announcement-type-xxx'><u>Type</u> — <small>What is the announcement's type ? Select one.</small></label><div class='radio'><label><input type='radio' id='announcement-type-xxx-announce' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, false);' checked><b>Announce</b> : The announcement will be a simple message displayed in chat.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-title' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, true);'><b>Title</b> : The announcement will be a title displayed to players.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-subtitle' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, true);'><b>Subtitle</b> : The announcement will be a subtitle displayed to players.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-action' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, false);'><b>Action</b> : The announcement will be a simple message displayed in action bar.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-warn' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, false);'><b>Warn</b> : The announcement will be a simple message displayed in chat.</label></div></div><div class='form-group' style='display:none;' id='announcement-type-properties-xxx'><label for='type-properties-xxx'><u>Title/Subtitle properties</u> — <small>You can edit the time a title/subtitle will fade in, stay and fade out. (time in seconds)</small></label><p>You just have to follow this syntax: <code>[fadeInTime],[stayTime],[fadeOutTime]</code>. Put 0,0,0 to ask for the default time.</p><input type='text' class='form-control' placeholder='2,5,3' id='type-properties-xxx'></div><div class='form-group'><label for='announcement-interval-delay-xxx'><u>Interval & delay</u> — <small>Put the interval and delay you want for your announcement. (in seconds)</small></label><p>You just have to follow this syntax: <code>[interval],[delay]</code>. If you've no idea what 'interval' and 'delay' means, have a look at this short tutorial: <a href='https://github.com/Roytreo28/BungeeAnnounce/wiki/Interval-&-Delay' target='_blank'>https://github.com/Roytreo28/BungeeAnnounce/.../</a></p><input type='text' class='form-control' placeholder='60,10' id='announcement-interval-delay-xxx'></div><div class='form-group'><label for='announcement-permission-xxx'><u>Permission</u> — <small>Is any permission needed to see this announcement ? If yes, write it down.</small></label><input type='text' class='form-control' placeholder='bungeecord.vip' id='announcement-permission-xxx'></div><div class='form-group'><label for='announcement-message-xxx'><u>Announcement</u> — <small>What's the message that you want to be broadcasted ? Write it down.</small></label><p>Don't forget to use color codes and placeholders.</p><input type='text' class='form-control' id='announcement-message-xxx'></div><div class='form-group'><label for='announcement-servers-xxx'><u>Servers</u> — <small>On which server(s) you want your announcement to be broadcasted ? Write their names.</small></label><p>You just have to follow this syntax: <code>[server1],[server2],[server3],[...]</code>. Put <code>all</code> if you want your announcement to be broadcasted through all your network.</p><input type='text-area' class='form-control' placeholder='Hub-1,Hub-3,Hub-5' id='announcement-servers-xxx'></div></div>";
            var playerTemplate = "<div class='well' id='player-xxx'><span class='badge pull-right'>yyy</span><div class='form-group'><label for='player-name-xxx'><u>Player name</u> — <small>What is the name of the player to broadcast the following announcement when he/she join the server.</small></label><input type='text' class='form-control' placeholder='Notch' id='player-name-xxx'></div><div class='form-group'><label for='player-type-xxx'><u>Type</u> — <small>What is the player announcement's type ? Select one.</small></label><div class='radio'><label><input type='radio' id='player-type-xxx-announce' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, false);' checked><b>Announce</b> : The announcement will be a simple message displayed in chat.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-title' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, true);'><b>Title</b> : The announcement will be a title displayed to players.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-subtitle' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, true);'><b>Subtitle</b> : The announcement will be a subtitle displayed to players.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-action' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, false);'><b>Action</b> : The announcement will be a simple message displayed in action bar.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-warn' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, false);'><b>Warn</b> : The announcement will be a simple message displayed in chat.</label></div></div><div class='form-group' style='display:none;' id='player-player-type-properties-xxx'><label for='player-type-properties-xxx'><u>Title/Subtitle properties</u> — <small>You can edit the time a title/subtitle will fade in, stay and fade out. (time in seconds)</small></label><p>You just have to follow this syntax: <code>[fadeInTime],[stayTime],[fadeOutTime]</code>. Put 0,0,0 to ask for the default time.</p><input type='text' class='form-control' placeholder='2,5,3' id='player-type-properties-xxx'></div><div class='form-group'><label for='player-permission-xxx'><u>Permission</u> — <small>Do you want more than one player to have this announcement on join ? If yes, write down the permission which is needed to have the same announcement.</small></label><input type='text' class='form-control' placeholder='bungeecord.vip' id='player-permission-xxx'></div><div class='form-group'><label for='player-message-xxx'><u>Announcement</u> — <small>What's the message that you want to be broadcasted ? Write it down.</small></label><p>Don't forget to use color codes and placeholders.</p><input type='text' class='form-control' id='player-message-xxx'></div><div class='form-group'><label for='player-servers-xxx'><u>Servers</u> — <small>On which server(s) you want the announcement to be broadcasted ? Write their names.</small></label><p>You just have to follow this syntax: <code>[server1],[server2],[server3],[...]</code>. Put <code>all</code> if you want the announcement to be broadcasted through all your network.</p><input type='text-area' class='form-control' placeholder='Hub-1,Hub-3,Hub-5' id='player-servers-xxx'></div></div>";
            var schedulerTemplateHidden = "<div class='well' id='announcement-xxx' style='display:none;'><span class='badge pull-right'>yyy</span><div class='form-group'><label for='announcement-type-xxx'><u>Type</u> — <small>What is the announcement's type ? Select one.</small></label><div class='radio'><label><input type='radio' id='announcement-type-xxx-announce' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, false);' checked><b>Announce</b> : The announcement will be a simple message displayed in chat.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-title' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, true);'><b>Title</b> : The announcement will be a title displayed to players.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-subtitle' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, true);'><b>Subtitle</b> : The announcement will be a subtitle displayed to players.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-action' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, false);'><b>Action</b> : The announcement will be a simple message displayed in action bar.</label></div><div class='radio'><label><input type='radio' id='announcement-type-xxx-warn' name='announcement-type-xxx' onclick='displayTypeProperties(true, xxx, false);'><b>Warn</b> : The announcement will be a simple message displayed in chat.</label></div></div><div class='form-group' style='display:none;' id='announcement-type-properties-xxx'><label for='type-properties-xxx'><u>Title/Subtitle properties</u> — <small>You can edit the time a title/subtitle will fade in, stay and fade out. (time in seconds)</small></label><p>You just have to follow this syntax: <code>[fadeInTime],[stayTime],[fadeOutTime]</code>. Put 0,0,0 to ask for the default time.</p><input type='text' class='form-control' placeholder='2,5,3' id='type-properties-xxx'></div><div class='form-group'><label for='announcement-interval-delay-xxx'><u>Interval & delay</u> — <small>Put the interval and delay you want for your announcement. (in seconds)</small></label><p>You just have to follow this syntax: <code>[interval],[delay]</code>. If you've no idea what 'interval' and 'delay' means, have a look at this short tutorial: <a href='https://github.com/Roytreo28/BungeeAnnounce/wiki/Interval-&-Delay' target='_blank'>https://github.com/Roytreo28/BungeeAnnounce/.../</a></p><input type='text' class='form-control' placeholder='60,10' id='announcement-interval-delay-xxx'></div><div class='form-group'><label for='announcement-permission-xxx'><u>Permission</u> — <small>Is any permission needed to see this announcement ? If yes, write it down.</small></label><input type='text' class='form-control' placeholder='bungeecord.vip' id='announcement-permission-xxx'></div><div class='form-group'><label for='announcement-message-xxx'><u>Announcement</u> — <small>What's the message that you want to be broadcasted ? Write it down.</small></label><p>Don't forget to use color codes and placeholders.</p><input type='text' class='form-control' id='announcement-message-xxx'></div><div class='form-group'><label for='announcement-servers-xxx'><u>Servers</u> — <small>On which server(s) you want your announcement to be broadcasted ? Write their names.</small></label><p>You just have to follow this syntax: <code>[server1],[server2],[server3],[...]</code>. Put <code>all</code> if you want your announcement to be broadcasted through all your network.</p><input type='text-area' class='form-control' placeholder='Hub-1,Hub-3,Hub-5' id='announcement-servers-xxx'></div></div>";
            var playerTemplateHidden = "<div class='well' id='player-xxx' style='display:none;'><span class='badge pull-right'>yyy</span><div class='form-group'><label for='player-name-xxx'><u>Player name</u> — <small>What is the name of the player to broadcast the following announcement when he/she join the server.</small></label><input type='text' class='form-control' placeholder='Notch' id='player-name-xxx'></div><div class='form-group'><label for='player-type-xxx'><u>Type</u> — <small>What is the player announcement's type ? Select one.</small></label><div class='radio'><label><input type='radio' id='player-type-xxx-announce' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, false);' checked><b>Announce</b> : The announcement will be a simple message displayed in chat.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-title' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, true);'><b>Title</b> : The announcement will be a title displayed to players.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-subtitle' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, true);'><b>Subtitle</b> : The announcement will be a subtitle displayed to players.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-action' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, false);'><b>Action</b> : The announcement will be a simple message displayed in action bar.</label></div><div class='radio'><label><input type='radio' id='player-type-xxx-warn' name='player-type-xxx' onclick='displayTypeProperties(false, xxx, false);'><b>Warn</b> : The announcement will be a simple message displayed in chat.</label></div></div><div class='form-group' style='display:none;' id='player-player-type-properties-xxx'><label for='player-type-properties-xxx'><u>Title/Subtitle properties</u> — <small>You can edit the time a title/subtitle will fade in, stay and fade out. (time in seconds)</small></label><p>You just have to follow this syntax: <code>[fadeInTime],[stayTime],[fadeOutTime]</code>. Put 0,0,0 to ask for the default time.</p><input type='text' class='form-control' placeholder='2,5,3' id='player-type-properties-xxx'></div><div class='form-group'><label for='player-permission-xxx'><u>Permission</u> — <small>Do you want more than one player to have this announcement on join ? If yes, write down the permission which is needed to have the same announcement.</small></label><input type='text' class='form-control' placeholder='bungeecord.vip' id='player-permission-xxx'></div><div class='form-group'><label for='player-message-xxx'><u>Announcement</u> — <small>What's the message that you want to be broadcasted ? Write it down.</small></label><p>Don't forget to use color codes and placeholders.</p><input type='text' class='form-control' id='player-message-xxx'></div><div class='form-group'><label for='player-servers-xxx'><u>Servers</u> — <small>On which server(s) you want the announcement to be broadcasted ? Write their names.</small></label><p>You just have to follow this syntax: <code>[server1],[server2],[server3],[...]</code>. Put <code>all</code> if you want the announcement to be broadcasted through all your network.</p><input type='text-area' class='form-control' placeholder='Hub-1,Hub-3,Hub-5' id='player-servers-xxx'></div></div>";
            var announceTypes = ["title", "subtitle", "action", "warn"];
            var schedulerAndPlayerAnnouncementLimit = 79;//Modify this value if you want to bypass the restriction (It will cost a lot of RAM)
            var schedulerAnnouncerCount = 0;
            var playerAnnouncerCount = 0;
            init();
            
            function init()
            {
                for (var i = 0; i < schedulerAndPlayerAnnouncementLimit; i++)
                {
                    addScheduledAnnouncement(true);
                    addPlayerAnnouncement(true);
                }
                schedulerAnnouncerCount = 0;
                playerAnnouncerCount = 0;
            }
            
            function addScheduledAnnouncement(hidden) {
                if (schedulerAnnouncerCount == schedulerAndPlayerAnnouncementLimit) {
                    alert("You can't have more than "schedulerAndPlayerAnnouncementLimit+1" scheduled announcements.");
                    return;
                }
                var divTest = document.getElementById("announcement-" + (schedulerAnnouncerCount));
                if (divTest) {
                    divTest.style.display = "block";
                } else {
                    var divElem = document.getElementById("scheduler-section-division");
                    var copyTemplate = "";
                    if (hidden) {
                    	copyTemplate = schedulerTemplateHidden.replace(/xxx/g, "" + schedulerAnnouncerCount);
                    } else {
                    	copyTemplate = schedulerTemplate.replace(/xxx/g, "" + schedulerAnnouncerCount)
                    }
                    copyTemplate = copyTemplate.replace(/yyy/g, "" + (schedulerAnnouncerCount + 1));
                    divElem.innerHTML = divElem.innerHTML + copyTemplate;
                }
                schedulerAnnouncerCount++;
            }
            
            function removeScheduledAnnouncement() {
                if (schedulerAnnouncerCount == 0) {
                    alert("You can't have less than zero scheduled announcement.");
                    return;
                }
                schedulerAnnouncerCount--;
                var divElem = document.getElementById("announcement-" + schedulerAnnouncerCount);
                divElem.style.display = "none";
            }
            
            function addPlayerAnnouncement(hidden) {
            	if (playerAnnouncerCount == schedulerAndPlayerAnnouncementLimit) {
                    alert("You can't have more than "+schedulerAndPlayerAnnouncementLimit+1+" automatic player announcements.");
                    return;
                }
                var divTest = document.getElementById("player-" + (playerAnnouncerCount));
                if (divTest) {
                    divTest.style.display = "block";
                } else {
                    var divElem = document.getElementById("player-announcer-section-division");
                    var copyTemplate = "";
                    if (hidden) {
                    	copyTemplate = playerTemplateHidden.replace(/xxx/g, "" + playerAnnouncerCount);
                    } else {
                    	copyTemplate = playerTemplate.replace(/xxx/g, "" + playerAnnouncerCount)
                    }
                    copyTemplate = copyTemplate.replace(/yyy/g, "" + (playerAnnouncerCount + 1));
                    divElem.innerHTML = divElem.innerHTML + copyTemplate;
                }
                playerAnnouncerCount++;
            }
            
            function removePlayerAnnouncement() {
                if (playerAnnouncerCount == 0) {
                    alert("You can't have less than zero automatic player announcement.");
                    return;
                }
                playerAnnouncerCount--;
                var divElem = document.getElementById("player-" + playerAnnouncerCount);
                divElem.style.display = "none";
            }
            
            function displayTypeProperties(announcementSection, id, bool) {
                if (announcementSection) {
                    var elem = document.getElementById("announcement-type-properties-" + id);
                    if (bool) {
                        elem.style.display = "block";
                    } else {
                        elem.style.display = "none";
                    }
                } else {
                    var elem = document.getElementById("player-type-properties-" + id);
                    if (bool) {
                        elem.style.display = "block";
                    } else {
                        elem.style.display = "none";
                    }
                }
            }
            
            function togglePrivateMessageFields(bool) {
                var elem = document.getElementById("private-messaging-settings");
                if (bool) {
                    elem.style.display = "";
                } else {
                    elem.style.display = "none";
                }
            }
            
            function generateConfig() {
                document.getElementById("status").innerHTML = "<span class='glyphicon glyphicon-refresh'></span>";
                document.getElementById("configModalLabel").innerHTML = "Allright! Copy the following text and past it in your <code>config.yml</code> file after empty it.";
                var parameters = ["announce-prefix", "title-prefix", "subtitle-prefix", "action-prefix", "warn-prefix", "enable-private-message", "command-for-private-message", "private-message-send", "private-message-received", "private-message-player-not-online", "private-message-sender-equals-receiver", "enable-announcement-logs"];
                for (var i = 0; i < parameters.length; i++) {
                    var rawElement = document.getElementById(parameters[i]);
                    var configElement = document.getElementById(parameters[i] + "-config");
                    if (rawElement.type == "text") {
                        configElement.innerHTML = rawElement.value;
                    } else {
                        if (document.getElementById(parameters[i] + "-yes").checked) {
                            configElement.innerHTML = "true";
                            continue;
                        }
                        configElement.innerHTML = "false";
                    }
                }
            
                var schedulerElem = document.getElementById("scheduler-section-config");
                var outputSchedulerSection = "";
                var splittedProperties = [];
            
                for (var x = 0; x < schedulerAnnouncerCount; x++) {
                    var name = "announcement" + x;
                    var type = "announce";
                    for (var y = 0; y < announceTypes.length; y++) {
                        if (document.getElementById("announcement-type-" + x + "-" + announceTypes[y]).checked) {
                            type = announceTypes[y];
                            break;
                        }
                    }
                    var fadeIn = "0";
                    var stay = "0";
                    var fadeOut = "0";
                    if (type == "title" || type == "subtitle") {
                        splittedProperties = document.getElementById("type-properties-" + x).value.split(",");
                        if (splittedProperties.length < 3 || splittedProperties[0] == "" || splittedProperties[1] == "" || splittedProperties[2] == "") {
                            showError("There was an error at announcement N°" + (x + 1) + ": field about title/subtitle properties. Please review the syntax used.");
                            return;
                        }
                        fadeIn = splittedProperties[0];
                        stay = splittedProperties[1];
                        fadeOut = splittedProperties[2];
                    }
                    splittedProperties = document.getElementById("announcement-interval-delay-" + x).value.split(",");
                    if (splittedProperties.length < 2 || splittedProperties[0] == "" || splittedProperties[1] == "") {
                        showError("There was an error at announcement N°" + (x + 1) + ": field about interval and delay. Please review the syntax used.");
                        return;
                    }
                    var interval = splittedProperties[0];
                    var delay = splittedProperties[1];
                    var permission = document.getElementById("announcement-permission-" + x).value;
                    var announcement = document.getElementById("announcement-message-" + x).value;
            
                    splittedProperties = document.getElementById("announcement-servers-" + x).value.split(",");
                    if (splittedProperties.length == 1 && splittedProperties[0] == "") {
                        showError("There was an error at announcement N°" + (x + 1) + ": field about servers. You can't put no servers.");
                        return;
                    }
                    var serverList = splittedProperties;
                    if (type == "title" || type == "subtitle") {
                        outputSchedulerSection = outputSchedulerSection + "<br/>  '" + name + "':<br/>    type: '" + type + "_" + fadeIn + "_" + stay + "_" + fadeOut + "'<br/>    interval: " + interval + "<br/>    delay: " + delay + "<br/>    permission: '" + permission + "'<br/>    message: \"" + announcement + "\"<br/>    servers:";
                    } else {
                        outputSchedulerSection = outputSchedulerSection + "<br/>  '" + name + "':<br/>    type: '" + type + "'<br/>    interval: " + interval + "<br/>    delay: " + delay + "<br/>    permission: '" + permission + "'<br/>    message: \"" + announcement + "\"<br/>    servers:";
                    }
                    for (var z = 0; z < serverList.length; z++) {
                        outputSchedulerSection = outputSchedulerSection + "<br/>      - \"" + serverList[z] + "\"";
                    }
                }
                schedulerElem.innerHTML = outputSchedulerSection;
            
                var playerAnnouncerElem = document.getElementById("player-announcer-section-config");
                var outputPlayerSection = "";
            
                for (var x = 0; x < playerAnnouncerCount; x++) {
                    var name = document.getElementById("player-name-" + x).value;
                    var type = "announce";
                    for (var y = 0; y < announceTypes.length; y++) {
                        if (document.getElementById("player-type-" + x + "-" + announceTypes[y]).checked) {
                            type = announceTypes[y];
                            break;
                        }
                    }
                    var fadeIn = "0";
                    var stay = "0";
                    var fadeOut = "0";
                    if (type == "title" || type == "subtitle") {
                        splittedProperties = document.getElementById("player-type-properties-" + x).value.split(",");
                        if (splittedProperties.length < 3 || splittedProperties[0] == "" || splittedProperties[1] == "" || splittedProperties[2] == "") {
                            showError("There was an error at player announcement N°" + (x + 1) + ": field about title/subtitle properties. Please review the syntax used.");
                            return;
                        }
                        fadeIn = splittedProperties[0];
                        stay = splittedProperties[1];
                        fadeOut = splittedProperties[2];
                    }
                    var permission = document.getElementById("player-permission-" + x).value;
                    var announcement = document.getElementById("player-message-" + x).value;
            
                    splittedProperties = document.getElementById("player-servers-" + x).value.split(",");
                    if (splittedProperties.length == 1 && splittedProperties[0] == "") {
                        showError("There was an error at player announcement N°" + (x + 1) + ": field about servers. You can't put no servers.");
                        return;
                    }
                    var serverList = splittedProperties;
                    if (type == "title" || type == "subtitle") {
                        outputPlayerSection = outputPlayerSection + "<br/>  \"" + name + "\":<br/>    type: '" + type + "_" + fadeIn + "_" + stay + "_" + fadeOut + "'<br/>    permission: '" + permission + "'<br/>    message: \"" + announcement + "\"<br/>    servers:";
                    } else {
                        outputPlayerSection = outputPlayerSection + "<br/>  \"" + name + "\":<br/>    type: '" + type + "'<br/>    permission: '" + permission + "'<br/>    message: \"" + announcement + "\"<br/>    servers:";
                    }
                    for (var z = 0; z < serverList.length; z++) {
                        outputPlayerSection = outputPlayerSection + "<br/>      - \"" + serverList[z] + "\"";
                    }
                }
                playerAnnouncerElem.innerHTML = outputPlayerSection;
            
                document.getElementById("status").innerHTML = "<span class='glyphicon glyphicon-check'></span>";
            }
            
            function showError(error) {
                document.getElementById("configModalLabel").innerHTML = "<span class='glyphicon glyphicon-alert'></span> " + error + " Close this dialog, fix your error and retry to generate.";
            }
            
            function selectText(containerid) {
                document.getElementById("status").innerHTML = "";
                if (document.selection) {
                    var range = document.body.createTextRange();
                    range.moveToElementText(document.getElementById(containerid));
                    range.select();
                } else if (window.getSelection) {
                    var range = document.createRange();
                    range.selectNode(document.getElementById(containerid));
                    window.getSelection().addRange(range);
                }
            }
            
            $('#configModal').on('shown.bs.modal', function () {
                $('#generateButton').focus()
            })
                  
        </script>
    </body>
</html>
